<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - UOW Room Booking</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- <script src="script.js" defer></script> -->
    <script src="./auth.js" deffered></script>
    <style>
      main {
        padding: 1rem;
        gap: 0.5rem;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Register</h1>
    </header>

    <main class="column-stack">
      <input
        type="text"
        id="register-username"
        placeholder="Username"
        required
      />
      <input type="email" id="register-email" placeholder="Email" required />
      <input
        type="password"
        id="register-password"
        placeholder="Password"
        required
      />
      <button class="buttons" id="registerButton">Register</button>
    </main>
  </body>
  <script>
    const auth = new Auth();
    document
      .getElementById("registerButton")
      .addEventListener("click", async () => {
        const res = await auth.register(
          document.getElementById("register-email").value,
          document.getElementById("register-username").value,
          document.getElementById("register-password").value,
          false
        );
        if (res.status === "ok") {
          window.location.href = "./login.html";
        } else {
          alert(res.message);
        }
      });
  </script>
</html>
